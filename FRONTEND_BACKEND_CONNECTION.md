# üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Frontend –∫ Backend

## –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Browser       ‚îÇ         ‚îÇ   Vite Dev       ‚îÇ         ‚îÇ   FastAPI       ‚îÇ
‚îÇ  localhost:3000 ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ> ‚îÇ   Server         ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ> ‚îÇ   Backend       ‚îÇ
‚îÇ   (React App)   ‚îÇ         ‚îÇ   (Proxy)        ‚îÇ         ‚îÇ 77.233.212.58   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ‚úÖ –ß—Ç–æ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

### 1. Vite Proxy (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

**–§–∞–π–ª:** `new-voice-frontend/vite.config.ts`

```typescript
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://77.233.212.58:8000',
      changeOrigin: true,
    },
  },
}
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å: `GET /api/skillbases`
- Vite –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞: `http://77.233.212.58:8000/api/skillbases`
- –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å CORS!

### 2. API Client

**–§–∞–π–ª:** `new-voice-frontend/src/api/client.ts`

```typescript
const API_BASE_URL = import.meta.env.VITE_API_URL || '/api'
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/api` (—á–µ—Ä–µ–∑ proxy)
- –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `VITE_API_URL` –∏–∑ `.env`

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å (–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å Backend

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ 77.233.212.58 –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ
cd new-voice
python -m uvicorn src.api.main:app --host 0.0.0.0 --port 8000
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** http://77.233.212.58:8000/docs

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å Frontend

```bash
cd new-voice-frontend
npm run dev
```

**–û—Ç–∫—Ä–æ–µ—Ç—Å—è:** http://localhost:3000

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ http://localhost:3000 –∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Network
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/dashboard/stats`

---

## üåê –í–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Proxy (–¢–µ–∫—É—â–∏–π) ‚úÖ

**–ü–ª—é—Å—ã:**
- –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å CORS
- –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –†–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏

**–ú–∏–Ω—É—Å—ã:**
- –¢–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ù—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 2: Backend —Ä–∞–∑–¥–∞–µ—Ç Frontend (–ü—Ä–æ–¥–∞–∫—à–µ–Ω)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**

1. –°–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:
```bash
cd new-voice-frontend
npm run build
# –°–æ–∑–¥–∞—Å—Ç—Å—è –ø–∞–ø–∫–∞ dist/
```

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å FastAPI –¥–ª—è —Ä–∞–∑–¥–∞—á–∏ —Å—Ç–∞—Ç–∏–∫–∏:

```python
# new-voice/src/api/main.py
from fastapi.staticfiles import StaticFiles

# –ü–æ—Å–ª–µ –≤—Å–µ—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤
app.mount("/", StaticFiles(directory="../new-voice-frontend/dist", html=True), name="static")
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ backend:
```bash
python -m uvicorn src.api.main:app --host 0.0.0.0 --port 8000
```

4. –û—Ç–∫—Ä—ã—Ç—å: http://77.233.212.58:8000

**–ü–ª—é—Å—ã:**
- –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä –¥–ª—è –≤—Å–µ–≥–æ
- –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å CORS
- –ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π

**–ú–∏–Ω—É—Å—ã:**
- –ù—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ü—Ä–æ–¥–∞–∫—à–µ–Ω, –¥–µ–º–æ

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã + CORS

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**

1. –í–∫–ª—é—á–∏—Ç—å CORS –≤ backend:

```python
# new-voice/src/api/main.py
from fastapi.middleware.cors import CORSMiddleware

app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000"],  # –§—Ä–æ–Ω—Ç–µ–Ω–¥ URL
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

2. –ò–∑–º–µ–Ω–∏—Ç—å API URL –≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ:

```bash
# new-voice-frontend/.env
VITE_API_URL=http://77.233.212.58:8000/api
```

**–ü–ª—é—Å—ã:**
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
- –ú–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ

**–ú–∏–Ω—É—Å—ã:**
- –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å CORS
- –î–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**Backend –ª–æ–∫–∞–ª—å–Ω–æ:**
```bash
# Terminal 1: Backend
cd new-voice
python -m uvicorn src.api.main:app --reload --port 8000

# Terminal 2: Frontend
cd new-voice-frontend
npm run dev
```

**–ò–∑–º–µ–Ω–∏—Ç—å proxy:**
```typescript
// vite.config.ts
proxy: {
  '/api': {
    target: 'http://localhost:8000',  // –õ–æ–∫–∞–ª—å–Ω—ã–π backend
    changeOrigin: true,
  },
}
```

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–í–∞—Ä–∏–∞–Ω—Ç A: Nginx + 2 —Å–µ—Ä–≤–µ—Ä–∞**

```nginx
# /etc/nginx/sites-available/new-voice
server {
    listen 80;
    server_name your-domain.com;

    # Frontend
    location / {
        proxy_pass http://localhost:3000;
    }

    # Backend API
    location /api {
        proxy_pass http://localhost:8000;
    }
}
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä (FastAPI —Ä–∞–∑–¥–∞–µ—Ç —Å—Ç–∞—Ç–∏–∫—É)**

```bash
# 1. –°–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
cd new-voice-frontend
npm run build

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ backend
cp -r dist/* ../new-voice/src/api/static/

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å backend
cd ../new-voice
python -m uvicorn src.api.main:app --host 0.0.0.0 --port 8000
```

---

## üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Frontend (.env)

```bash
# new-voice-frontend/.env

# API URL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é /api)
VITE_API_URL=/api

# –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
# VITE_API_URL=https://api.your-domain.com/api
```

### Backend (.env)

```bash
# new-voice/.env

# CORS origins (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã)
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# Database, API keys, etc.
DATABASE_URL=postgresql://...
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Vite proxy (–≤–∞—Ä–∏–∞–Ω—Ç 1)
2. –ò–ª–∏ –≤–∫–ª—é—á–∏—Ç–µ CORS –≤ backend (–≤–∞—Ä–∏–∞–Ω—Ç 3)

### –ü—Ä–æ–±–ª–µ–º–∞: 404 –Ω–∞ API –∑–∞–ø—Ä–æ—Å–∞—Ö

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. Backend –∑–∞–ø—É—â–µ–Ω: http://77.233.212.58:8000/docs
2. Proxy –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `vite.config.ts`
3. API URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ `client.ts`

### –ü—Ä–æ–±–ª–µ–º–∞: Timeout –æ—à–∏–±–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–≤–µ–ª–∏—á—å—Ç–µ timeout –≤ `client.ts`:
```typescript
timeout: 60000, // 60 —Å–µ–∫—É–Ω–¥
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

### –ü—Ä–æ–±–ª–µ–º–∞: 500 Internal Server Error

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –õ–æ–≥–∏ backend: `tail -f logs/app.log`
2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
3. –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

---

## ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
# Terminal 1: Backend (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —É–∂–µ –∑–∞–ø—É—â–µ–Ω)
# http://77.233.212.58:8000

# Terminal 2: Frontend
cd new-voice-frontend
npm run dev
# –û—Ç–∫—Ä–æ–µ—Ç—Å—è http://localhost:3000
```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

```bash
# 1. –°–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
cd new-voice-frontend
npm run build

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å backend –¥–ª—è —Ä–∞–∑–¥–∞—á–∏ —Å—Ç–∞—Ç–∏–∫–∏
# (—Å–º. –í–∞—Ä–∏–∞–Ω—Ç 2 –≤—ã—à–µ)

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å backend
cd ../new-voice
python -m uvicorn src.api.main:app --host 0.0.0.0 --port 8000
```

---

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

‚úÖ **–ù–∞—Å—Ç—Ä–æ–µ–Ω–æ:**
- Vite proxy –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- API client —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Timeout 30 —Å–µ–∫—É–Ω–¥
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:3000**
- **–ë—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:8000**
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Vite Proxy**

‚è≥ **–ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:**
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–¥–∞—á–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

**–î–∞—Ç–∞:** 2026-01-18  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
