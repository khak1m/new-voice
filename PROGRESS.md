# NEW-VOICE 2.0 ‚Äî –ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–ü—Ä–æ–µ–∫—Ç:** –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö AI-–±–æ—Ç–æ–≤
- **–¶–µ–ª—å:** –ë–æ—Ç—ã –æ–±—â–∞—é—Ç—Å—è –∫–∞–∫ –ª—é–¥–∏, —Ä–∞–±–æ—Ç–∞—é—Ç —Å –≤—Ö–æ–¥—è—â–∏–º–∏/–∏—Å—Ö–æ–¥—è—â–∏–º–∏ –∑–≤–æ–Ω–∫–∞–º–∏
- **–ö–æ–º–ø–∞–Ω–∏—è:** AI Prosto
- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/khak1m/new-voice
- **–°–µ—Ä–≤–µ—Ä:** 77.233.212.58 (Ubuntu 24.04, 2 vCPU, 4GB RAM, –ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã)

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –°—Ç–∞—Ç—É—Å |
|-----------|------------|--------|
| **LLM** | Ollama (qwen2:1.5b) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **STT** | Deepgram (nova-2) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **TTS** | Cartesia (sonic-2) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **Real-time** | LiveKit Cloud | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **VAD** | Silero | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **Telephony** | MTS Exolve | ‚è≥ –°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø |
| **RAG** | Qdrant | ‚è≥ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è |
| **Database** | PostgreSQL / Supabase | ‚è≥ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è |

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### –≠—Ç–∞–ø 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [x] –°–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω (Ubuntu 24.04)
- [x] Python 3.12, Docker, Git —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [x] GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω
- [x] –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (venv) –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

### –≠—Ç–∞–ø 2: LLM Provider
- [x] Groq –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ –†–§ ‚Äî 403)
- [x] Ollama —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [x] –ú–æ–¥–µ–ª—å qwen2:1.5b –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API

### –≠—Ç–∞–ø 3: Voice Pipeline ‚úÖ –ì–û–¢–û–í–û!
- [x] Deepgram STT –ø–æ–¥–∫–ª—é—á–µ–Ω (—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫)
- [x] Cartesia TTS –ø–æ–¥–∫–ª—é—á–µ–Ω (—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫)
- [x] LiveKit Cloud –ø–æ–¥–∫–ª—é—á–µ–Ω (—Ä–µ–≥–∏–æ–Ω Germany 2)
- [x] Silero VAD –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ—á–∏
- [x] **Voice Agent —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –≥–æ–ª–æ—Å–æ–º!**

### –≠—Ç–∞–ø 4: Scenario Engine (95%)
- [x] –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (models.py)
- [x] –ó–∞–≥—Ä—É–∑—á–∏–∫ –∫–æ–Ω—Ñ–∏–≥–æ–≤ (config_loader.py)
- [x] –ú–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π (state_machine.py)
- [x] –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (context_manager.py)
- [x] –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–µ—á–∏ (field_extractor.py)
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ (language_detector.py)
- [x] –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (outcome_classifier.py)
- [x] –û—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–∂–æ–∫ (engine.py)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Voice Agent

---

## üîÑ –°–õ–ï–î–£–Æ–©–ò–ï –ó–ê–î–ê–ß–ò

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Scenario Engine + Voice Agent
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å ScenarioEngine –∫ VoiceAgent
- –ó–∞–≥—Ä—É–∂–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏–∑ YAML –∫–æ–Ω—Ñ–∏–≥–æ–≤
- –£–ø—Ä–∞–≤–ª—è—Ç—å —ç—Ç–∞–ø–∞–º–∏ –¥–∏–∞–ª–æ–≥–∞

### 2. –¢–µ–ª–µ—Ñ–æ–Ω–∏—è (MTS Exolve)
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å SIP trunk
- –í—Ö–æ–¥—è—â–∏–µ –∑–≤–æ–Ω–∫–∏ ‚Üí LiveKit
- –ò—Å—Ö–æ–¥—è—â–∏–µ –∑–≤–æ–Ω–∫–∏

### 3. RAG System (Qdrant)
- –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –¥–ª—è –±–æ—Ç–æ–≤
- –ü–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –∫–ª–∏–µ–Ω—Ç–∞

### 4. Admin API
- REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞–º–∏
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

### 5. Admin UI
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

---

## üìä –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å

```
–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
Scenario Engine: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë 95%
Voice Pipeline:  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚úÖ
Provider Layer:  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚úÖ
–¢–µ–ª–µ—Ñ–æ–Ω–∏—è:       ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0%
RAG System:      ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0%
Admin API:       ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0%
Admin UI:        ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0%
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ voice_agent/
‚îÇ   ‚îú‚îÄ‚îÄ simple_agent.py   ‚úÖ –†–∞–±–æ—á–∏–π –≥–æ–ª–æ—Å–æ–≤–æ–π –∞–≥–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ agent.py          –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–≥–µ–Ω—Ç (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
‚îú‚îÄ‚îÄ scenario_engine/
‚îÇ   ‚îú‚îÄ‚îÄ models.py         ‚úÖ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ config_loader.py  ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ YAML/JSON
‚îÇ   ‚îú‚îÄ‚îÄ state_machine.py  ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ context_manager.py ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–≤–æ–Ω–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ field_extractor.py ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ language_detector.py ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ outcome_classifier.py ‚úÖ –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ engine.py         ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–∂–æ–∫
‚îú‚îÄ‚îÄ providers/
‚îÇ   ‚îú‚îÄ‚îÄ ollama_llm.py     ‚úÖ Ollama –ø—Ä–æ–≤–∞–π–¥–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ groq_llm.py       ‚ö†Ô∏è –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ –†–§
scripts/
‚îú‚îÄ‚îÄ test_services.py      ‚úÖ –¢–µ—Å—Ç –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ test_ollama.py        ‚úÖ –¢–µ—Å—Ç Ollama
examples/
‚îî‚îÄ‚îÄ salon_bot_config.yaml ‚úÖ –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞
```

---

## üîë API –ö–ª—é—á–∏ (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ .env)

- DEEPGRAM_API_KEY ‚úÖ
- CARTESIA_API_KEY ‚úÖ
- LIVEKIT_URL ‚úÖ
- LIVEKIT_API_KEY ‚úÖ
- LIVEKIT_API_SECRET ‚úÖ

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å Voice Agent

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /root/new-voice
source venv/bin/activate
python -m src.voice_agent.simple_agent dev
```

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: https://agents-playground.livekit.io/

---

## üìÖ –ò—Å—Ç–æ—Ä–∏—è

| –î–∞—Ç–∞ | –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ |
|------|-------------|
| 2026-01-12 | –ù–∞—Å—Ç—Ä–æ–µ–Ω —Å–µ—Ä–≤–µ—Ä, —Å–æ–∑–¥–∞–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π |
| 2026-01-12 | –ù–∞–ø–∏—Å–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| 2026-01-12 | –°–æ–∑–¥–∞–Ω Scenario Engine (95%) |
| 2026-01-12 | Groq –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Ollama |
| 2026-01-12 | –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Ollama —Å qwen2:1.5b |
| 2026-01-12 | –ü–æ–¥–∫–ª—é—á–µ–Ω—ã Deepgram, Cartesia, LiveKit |
| 2026-01-12 | **üéâ Voice Agent —Ä–∞–±–æ—Ç–∞–µ—Ç!** |
